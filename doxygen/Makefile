#******************************************************************************#
#* doxygen/Makefile                                                           *#
#*                                                                 2018/12/09 *#
#* Copyright (C) 2018 Mochi.                                                  *#
#******************************************************************************#
#******************************************************************************#
#* 設定                                                                       *#
#******************************************************************************#
# Doxygenコンフィグ
CONFIG = ./doxygen.cnf

# Doxygen出力先
OUTPUT = ./output

# Doxygenログ
LOG_DIR = ./log
LOG     = $(LOG_DIR)/doxygen.log


#******************************************************************************#
#* phonyターゲット                                                            *#
#******************************************************************************#
# サブディレクトリも含めたコンパイル
.PHONY: all
all: $(LOG_DIR)
	doxygen $(CONFIG)
	@cat $(LOG)
	@echo ""

# 全生成ファイルの削除
.PHONY: clean
clean:
	-rm -rf $(LOG_DIR)
	-rm -rf $(OUTPUT)
	

#******************************************************************************#
#* 生成規則                                                                   *#
#******************************************************************************#
# log directory
$(LOG_DIR):
	mkdir -p $(LOG_DIR)


#******************************************************************************#
