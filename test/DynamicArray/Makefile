#******************************************************************************#
#*                                                                            *#
#* test/DynamicArray/Makefile                                                 *#
#*                                                                 2020/05/13 *#
#* Copyright (C) 2020 Mochi.                                                  *#
#*                                                                            *#
#******************************************************************************#
#******************************************************************************#
#* 設定                                                                       *#
#******************************************************************************#
# 実行ファイル
PROG = TestDynamicArray

# ソースコード
SRCS  = main.c
SRCS += Init.c
SRCS += Alloc.c

# ビルドディレクトリ
BUILD_DIR   = ../../build
# リリースディレクトリ
RELEASE_DIR = $(BUILD_DIR)/test

# Cフラグ
CFLAGS  = -Wall
CFLAGS += -m32
CFLAGS += -I$(BUILD_DIR)/include
CFLAGS += -I$(BUILD_DIR)/release/include

# LDフラグ
LDFLAGS = -L$(BUILD_DIR)/release/

# LDライブラリフラグ
LIBS = -lMLib


#******************************************************************************#
#* phonyターゲット                                                            *#
#******************************************************************************#
# コンパイル
.PHONY: all
all: $(RELEASE_DIR)/$(PROG) Makefile

# 全生成ファイルの削除
.PHONY: clean
clean:
	-rm -rf $(RELEASE_DIR)/$(PROG)


#******************************************************************************#
#* 生成規則                                                                   *#
#******************************************************************************#
# ディレクトリ
$(RELEASE_DIR):
	mkdir -p $@

# 実行ファイル
$(RELEASE_DIR)/$(PROG): $(SRCS) Makefile
	$(CC) $(CFLAGS) -o $@ $(SRCS) $(LDFLAGS) $(LIBS)


#******************************************************************************#
